<link rel="import" href="bower_components/polymer/polymer.html">
<link rel="import" href="bower_components/paper-shadow/paper-shadow.html">
<link rel="import" href="content-service/content-service.html">
<link rel="import" href="content-card.html">

<polymer-element name="content-list" attributes="show">
<template>
    <style>
    :host {
      display: block;
      width: 100%;
    }
    content-card {
      margin-bottom: 30px;
    }
    </style>

    <content-service id="service" cards="{{cards}}"></content-service>
    
    <div justified layout>
        <template repeat="{{card in cards}}">
            <content-card 
                role="article"
                background="{{card.background}}"
                hidden?="{{show != card.category && show!='all'}}" flex>
                <img src="{{card.icon}}" width="70" height="70">
                <h2>{{card.title}}</h2>
                <p>{{card.text}}</p>
                <template repeat="{{link in card.links}}">
                    <p><a href="{{link.url}}">{{link.title}}</a></p>
                </template>             
            </content-card>
        </template>
    </div>
</template>
<script>
 Polymer({
    behaviors: [
      Polymer.NeonAnimationRunnerBehavior
    ],

    properties: {

      opened: {
        type: Boolean
      },

      animationConfig: {
        type: Object,
        value: function() {
          return {
            'entry': [{
              name: 'scale-up-animation',
              node: this
            }],
            'exit': [{
              name: 'fade-out-animation',
              node: this
            }]
          }
        }
      }

    },

    listeners: {
      'neon-animation-finish': '_onAnimationFinish'
    },

    _onAnimationFinish: function() {
      if (!this.opened) {
        this.style.display = '';
      }
    },

    show: function() {
      this.opened = true;
      this.style.display = 'inline-block';
      this.playAnimation('entry');
    },

    hide: function() {
      this.opened = false;
      this.playAnimation('exit');
    }

  });
</script>
</polymer-element>

